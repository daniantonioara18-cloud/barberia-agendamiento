{% load static %}
<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Barbererick{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/style.css' %}?v=20251124">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    {% block extra_css %}{% endblock %}
  </head>
  <body class="text-white img_fondo {% block body_class %}{% endblock %}"
  style="
    background-image: url('{% static "imagenes/fondo3.png" %}');
    background-size: cover;
    background-position: center top;
    background-repeat: repeat-y;   /* üëà aqu√≠ el cambio */;
  ">

    <!-- NAVBAR √öNICO -->
    <nav class="navbar navbar-expand-md navbar">
      <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-toggler">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbar-toggler">
          <a class="navbar-brand" href="/">
            <img src="{% static 'imagenes/logo.png' %}" width="100" alt="logo">
          </a>
          <ul class="navbar-nav d-flex justify-content-center align-items-center">
            <li class="nav-item"><a class="nav-link text-white" href="{% url 'index' %}">Inicio</a></li>
            <li class="nav-item"><a class="nav-link text-white" href="/Sobre/">Sobre mi</a></li>
            <li class="nav-item "><a class="nav-link text-white" href="{% url 'consultas' %}">Consultas</a></li>
            <li class="nav-item"><a class="nav-link text-white" href="/Agendamiento/">Agendamiento</a></li>
            <li class="nav-item"><a class="nav-link text-white" href="/Agendamiento/ListadoHora">Horas agendadas</a></li>

            {% if request.user.is_authenticated and request.user.is_staff %}
              <li class="nav-item"><a class="nav-link text-white" href="{% url 'panel' %}">Panel</a></li>
              <li class="nav-item"><a class="nav-link text-white" href="{% url 'logout' %}">Cerrar sesi√≥n</a></li>
            {% else %}
              <li class="nav-item"><a class="nav-link text-white" href="{% url 'login' %}">Iniciar sesi√≥n</a></li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>

    <!-- CONTENIDO DE CADA P√ÅGINA -->
    <main>
      {% block content %}{% endblock %}
    </main>

    <!-- FOOTER √öNICO -->
      <!-- footer global (usa .abao y .footer-link definidos arriba) -->
    <footer class="site-footer">
  <div class="site-footer__wrap container">
    <div class="row g-4 align-items-start">
      <!-- Col 1: Ubicaci√≥n -->
      <div class="col-12 col-md-4">
        <h6 class="site-footer__title">Ubicaci√≥n</h6>
        <p class="mb-2">Pichidegua Villa el Para√≠so casa #25</p>
        <div class="site-footer__map">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1067.9244566885204!2d-71.27645831518375!3d-34.36550194456303!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x96638427eb7bcb05%3A0x11edd6179543efe!2sPichidegua%2C%20O&#39;Higgins!5e0!3m2!1ses-419!2scl!4v1732720580801!5m2!1ses-419!2scl"
            width="320" height="180" style="border:0;" allowfullscreen="" loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </div>

      <!-- Col 2: Datos del due√±o -->
      <div class="col-12 col-md-4 text-center">
        <h6 class="site-footer__title">Datos del due√±o</h6>
        <p class="mb-1">Erick Javier</p>
        <p class="mb-1">7 a√±os experiencia</p>
        <p class="mb-2">Experto en cortes de pelo</p>
        <img src="{% static 'imagenes/logo.png' %}" alt="Logo Erik Criss" class="site-footer__logo">
      </div>

      <!-- Col 3: Contacto -->
      <div class="col-12 col-md-4 text-md-end text-center">
        <h6 class="site-footer__title">Cont√°ctanos</h6>
        <div class="site-footer__icons">
          <a class="footer-link" href="https://www.instagram.com/erikcrissbarbershop" target="_blank" rel="noopener">
            <i class="fab fa-instagram"></i>
          </a>
          <a class="footer-link" href="mailto:erikcrissbarbershop@gmail.com">
            <i class="fas fa-envelope"></i>
          </a>
        </div>
      </div>
    </div>

    <hr class="site-footer__divider">
    <div class="text-center site-footer__copy">
      ¬© ERIKCRISSBARBERSHOP ‚Äî Todos los derechos reservados
    </div>
  </div>
</footer>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
            <script>
        /* 1) Smooth scroll global */
        document.addEventListener("click", e => {
        const a = e.target.closest('a[href^="#"]');
        if (!a) return;
        const id = a.getAttribute("href");
        const el = document.querySelector(id);
        if (el) {
            e.preventDefault();
            el.scrollIntoView({behavior:"smooth", block:"start"});
        }
        });

        /* 2) Reveal on scroll (agrega clase .reveal en los elementos que quieras animar) */
        (() => {
        if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
        const obs = new IntersectionObserver((ents)=>{
            ents.forEach(ent=>{
            if (ent.isIntersecting) {
                ent.target.classList.add("reveal--in");
                obs.unobserve(ent.target);
            }
            });
        }, {threshold:.15, rootMargin:"0px 0px -8% 0px"});
        document.querySelectorAll(".reveal").forEach(n=>obs.observe(n));
        })();

        /* 3) Ripple en botones (opcional) */
        document.addEventListener("click", e=>{
        const btn = e.target.closest(".btn");
        if (!btn) return;
        const r = document.createElement("span");
        const rect = btn.getBoundingClientRect();
        const size = Math.max(rect.width, rect.height);
        r.className = "ripple";
        r.style.width = r.style.height = size+"px";
        r.style.left = (e.clientX - rect.left - size/2) + "px";
        r.style.top  = (e.clientY - rect.top  - size/2) + "px";
        btn.appendChild(r);
        setTimeout(()=>r.remove(), 500);
        });

        /* 4) Parallax sutil del fondo (opcional, afecta .img_fondo si existe) */
        (() => {
        const bg = document.querySelector(".img_fondo");
        if (!bg) return;
        const factor = 0.12; // m√°s chico = m√°s sutil
        window.addEventListener("scroll", ()=>{
            bg.style.backgroundPositionY = (window.pageYOffset * factor) + "px";
        }, {passive:true});
        })();
        </script>

        

    {% block extra_js %}{% endblock %}
  </body>
</html>
